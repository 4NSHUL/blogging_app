{"ast":null,"code":"var _jsxFileName = \"/Users/anshulbisen/Documents/JS/blogging_app/FrontEnd/src/components/Posts/Posts.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./Posts.css\";\nimport Post from \"../Post/Post\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cors = require('cors');\nconst corsOptions = {\n  origin: 'http://localhost:3000',\n  credentials: true,\n  //access-control-allow-credentials:true\n  optionSuccessStatus: 200\n};\nApp.use(cors(corsOptions));\nfunction Posts() {\n  _s();\n  const [blogs, setBlogs] = useState(null);\n  const [error, setErrors] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const fetchBlogs = async () => {\n    try {\n      setLoading(true);\n      const res = await axios.get(\"http://localhost:8080/api/blogs\");\n      setBlogs(res.data);\n      setErrors(null);\n    } catch (e) {\n      setErrors(e);\n      setBlogs(null);\n    }\n    setLoading(false);\n  };\n  useEffect(() => {\n    fetchBlogs();\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 10\n    }, this);\n  } else if (error) {\n    console.log(error);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: \"oops.. please reload the page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 10\n    }, this);\n  } else if (blogs.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"No Blogs available\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 10\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"blogs-container\",\n      children: blogs.map((blog, index) => /*#__PURE__*/_jsxDEV(Post, {\n        index: index,\n        post: blog\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 3\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 12\n    }, this);\n  }\n}\n_s(Posts, \"x01ORPxQNAWNjMoCWT7ZZKFYb/o=\");\n_c = Posts;\nexport default Posts;\nvar _c;\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Post","axios","cors","require","corsOptions","origin","credentials","optionSuccessStatus","App","use","Posts","blogs","setBlogs","error","setErrors","loading","setLoading","fetchBlogs","res","get","data","e","console","log","length","map","blog","index"],"sources":["/Users/anshulbisen/Documents/JS/blogging_app/FrontEnd/src/components/Posts/Posts.jsx"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {BrowserRouter as Router} from \"react-router-dom\";\nimport \"./Posts.css\";\nimport Post from \"../Post/Post\";\nimport axios from \"axios\"\n\nconst cors = require('cors');\nconst corsOptions ={\n    origin:'http://localhost:3000', \n    credentials:true,            //access-control-allow-credentials:true\n    optionSuccessStatus:200\n}\nApp.use(cors(corsOptions));\n\nfunction Posts() {\n\tconst [blogs, setBlogs] = useState(null);\n\tconst [error, setErrors] = useState(null);\n\tconst [loading, setLoading] = useState(true);\n\tconst fetchBlogs = async ()=> {\n\ttry {\n\t\tsetLoading(true)\n\t\t\tconst res = await axios.get(\"http://localhost:8080/api/blogs\");\n\t\t\tsetBlogs(res.data);\n\t\t\tsetErrors(null);\n\t\t} catch(e){\n\t\tsetErrors(e);\n\t\tsetBlogs(null);\n\t}\n\tsetLoading(false);\n\t\n\t};\n\tuseEffect(() => {\n\t\tfetchBlogs();\n\t},[]);\n\tif(loading){\n\t\treturn <div className=\"loader\">Loading...</div>\n\t} else if (error){\n\t\tconsole.log(error)\n\t\treturn <div className=\"error\">oops.. please reload the page</div>\n\t}else if(blogs.length === 0){\n\t\treturn <div>No Blogs available</div>\n\t}else{\n\t\treturn ( <div className=\"blogs-container\">\n\t{blogs.map((blog, index) => (\n\t\t<Post key={index} index={index} post={blog} />\n\t))}\n\t</div> \n\t); \n\t}\n\t\n}\n\nexport default Posts;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAChD,SAAQC,aAAa,IAAIC,MAAM,QAAO,kBAAkB;AACxD,OAAO,aAAa;AACpB,OAAOC,IAAI,MAAM,cAAc;AAC/B,OAAOC,KAAK,MAAM,OAAO;AAAA;AAEzB,MAAMC,IAAI,GAAGC,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAMC,WAAW,GAAE;EACfC,MAAM,EAAC,uBAAuB;EAC9BC,WAAW,EAAC,IAAI;EAAa;EAC7BC,mBAAmB,EAAC;AACxB,CAAC;AACDC,GAAG,CAACC,GAAG,CAACP,IAAI,CAACE,WAAW,CAAC,CAAC;AAE1B,SAASM,KAAK,GAAG;EAAA;EAChB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACgB,KAAK,EAAEC,SAAS,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EACzC,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAMoB,UAAU,GAAG,YAAW;IAC9B,IAAI;MACHD,UAAU,CAAC,IAAI,CAAC;MACf,MAAME,GAAG,GAAG,MAAMjB,KAAK,CAACkB,GAAG,CAAC,iCAAiC,CAAC;MAC9DP,QAAQ,CAACM,GAAG,CAACE,IAAI,CAAC;MAClBN,SAAS,CAAC,IAAI,CAAC;IAChB,CAAC,CAAC,OAAMO,CAAC,EAAC;MACVP,SAAS,CAACO,CAAC,CAAC;MACZT,QAAQ,CAAC,IAAI,CAAC;IACf;IACAI,UAAU,CAAC,KAAK,CAAC;EAEjB,CAAC;EACDpB,SAAS,CAAC,MAAM;IACfqB,UAAU,EAAE;EACb,CAAC,EAAC,EAAE,CAAC;EACL,IAAGF,OAAO,EAAC;IACV,oBAAO;MAAK,SAAS,EAAC,QAAQ;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAiB;EAChD,CAAC,MAAM,IAAIF,KAAK,EAAC;IAChBS,OAAO,CAACC,GAAG,CAACV,KAAK,CAAC;IAClB,oBAAO;MAAK,SAAS,EAAC,OAAO;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAoC;EAClE,CAAC,MAAK,IAAGF,KAAK,CAACa,MAAM,KAAK,CAAC,EAAC;IAC3B,oBAAO;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAA6B;EACrC,CAAC,MAAI;IACJ,oBAAS;MAAK,SAAS,EAAC,iBAAiB;MAAA,UACzCb,KAAK,CAACc,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,kBACtB,QAAC,IAAI;QAAa,KAAK,EAAEA,KAAM;QAAC,IAAI,EAAED;MAAK,GAAhCC,KAAK;QAAA;QAAA;QAAA;MAAA,QAChB;IAAC;MAAA;MAAA;MAAA;IAAA,QACI;EAEN;AAED;AAAC,GApCQjB,KAAK;AAAA,KAALA,KAAK;AAsCd,eAAeA,KAAK;AAAC;AAAA"},"metadata":{},"sourceType":"module"}